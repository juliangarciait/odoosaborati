<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<menuitem id="linio_config" name="Linio" sequence="1"
              web_icon="linio_connector_vex,static/description/icon.jpg" />
	<menuitem id="linio_main_list_sync" name="Synchronized" sequence="2"
              parent="linio_connector_vex.linio_config" />

    <record id="herencia_instancia_meli" model="ir.ui.view">
           <field name="name">vex.instance</field>
           <field name="model">vex.instance</field>
           <field name="inherit_id" ref="base_conector_vex.vex_instance_form_view" />
           <field name="arch" type="xml">
               <!--
               <xpath expr="//button[@name='fun_test']" position="after" >
                   <button name="get_crons_linio" type="object"
                           attrs="{'invisible': [('conector','!=','linio')]}"
                           class="oe_stat_button" icon="fa-spinner">
                                CRONS
                   </button>

               </xpath>
               -->
               <xpath expr="//page[@name='basic_conf']" position="before" >
                   <page string="Initial Settings" name ="before_linio"
                         attrs="{'invisible': [('conector','!=','linio')]}"
                   >
                       <group>
                           <field name="url_linio"  required="1"  />
                           <field name="user_id"  required="1"  />
                           <field name="api_key"  required="1"  />
                       </group>
                   </page>
               </xpath>
               <xpath expr="//field[@name='warehouse']" position="after" >
                   <field name="use_warehousetype" />
                   <field name="warehouse_dropshipping" attrs="{'invisible': [('use_warehousetype','!=',True)]}" />
                   <field name="warehouse_ownwarehouse" attrs="{'invisible': [('use_warehousetype','!=',True)]}" />

               </xpath>
           </field>


    </record>


	<record id="action_linio_synchro_instance" model="ir.actions.act_window">
        <field name="name">Instances</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">vex.instance</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('conector','=', 'linio')]</field>
        <field name="context">{'default_conector':'linio'}</field>
    </record>

    <menuitem action="action_linio_synchro_instance" id="linio_synchro_instance_menu_id"
              parent="linio_config"/>
</odoo>